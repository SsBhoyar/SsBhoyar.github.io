<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Table</title>

    <style>
        /* table,
        tr,
        th,
        td {
            background-color: azure;
            border-collapse: collapse;
            border: 2px solid blue;
            padding: 5px 10px;
        } */
    </style>
</head>

<body>

    <h1>Fetch API</h1>

    <em>Note:</em> Open console.log;

    <!-- <table>
        <thead>
            <tr>
                <th>UserID</th>
                <th>ID</th>
                <th>Body</th>
                <th>Title</th>
            </tr>
        </thead>

        <tbody id="tbdata"></tbody>

    </table> -->

    <br>

    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Username</th>
                <th>E-mail</th>
                <th>Address</th>
                <!-- <th>Street</th>
                <th>Suite</th>
                <th>City</th>
                <th>Zip code</th>
                <th>Geo</th>
                <th>Latitude</th>
                <th>Longitude</th> -->
                <th>Phone</th>
                <th>Website</th>
                <th>Company</th>
                <!-- <th>Name</th>
                <th>Catchphrase</th>
                <th>BS</th> -->

            </tr>
        </thead>

        <tbody id="userList"></tbody>

    </table>

    <script>
        // fetch("myFile.txt")
        // .then(x => x.text())
        // .then(y => console.log(y));

        // fetch("https://jsonplaceholder.typicode.com/posts")
        // .then(x => x.json())
        // .then(y => {
        //     let str = "";
        //     for (let j of y) {
        //         str += `<tr> <td> ${j.userId} </td> 
        //             <td> ${j.id} </td> 
        //             <td> ${j.body} </td> 
        //             <td> ${j.title} </td> </tr>`;        // ` is used to concatenate, no  need to write +; $ is used to bind data from object
        //     }
        //     document.getElementById("tbdata").innerHTML = str;
        // })

        fetch("https://jsonplaceholder.typicode.com/users")
            .then(x => x.json())
            .then(y => {
                let string1 = "";
                for (let i of y) {
                    string1 += `<tr> <td> ${i.id} </td> <td> ${i.name} </td> <td> ${i.username} </td> <td> ${i.email} </td> 
                    <td> ${i.address.street}, ${i.address.suite} , ${i.address.city} , ${i.address.zipcode} , 
                    ${i.address.geo.lat} , ${i.address.geo.lng} </td> <td> ${i.phone} </td> <td> ${i.website} </td> 
                    <td> ${i.company.name} , ${i.company.catchphrase} , ${i.company.bs} </td> <tr>`;
                }
                
                document.getElementById("userList").innerHTML = string1;
            })

            
    </script>
</body>

</html>